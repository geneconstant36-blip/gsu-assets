<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Password Fortress ‚Äî Digitification BookGame | GSU</title>
<meta name="description" content="Build the strongest password you can. Watch hackers try to crack it in real time. Learn password security through play ‚Äî not lecture. A GSU Digitification BookGame.">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --cyber:#0ea5e9;--cyber-glow:#38bdf8;
  --shield:#10b981;--shield-glow:#34d399;
  --alert:#f59e0b;--alert-glow:#fbbf24;
  --threat:#ef4444;--threat-glow:#f87171;
  --navy:#0f172a;--deep:#060a14;--slate:#94a3b8;
  --cream:#f8fafc;--teal:#2dd4bf;--gold:#d4a847;
  --font-display:'Playfair Display',Georgia,serif;
  --font-body:'DM Sans','Segoe UI',sans-serif;
  --font-mono:'JetBrains Mono',monospace;
}
html{scroll-behavior:smooth}
body{font-family:var(--font-body);background:var(--deep);color:var(--cream);overflow-x:hidden;line-height:1.7;min-height:100vh}

.lab-bg{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none}
.lab-bg::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;
  background:radial-gradient(ellipse at 30% 40%,rgba(14,165,233,.06) 0%,transparent 50%),
             radial-gradient(ellipse at 70% 60%,rgba(16,185,129,.04) 0%,transparent 50%);
  animation:labPulse 20s ease-in-out infinite}
@keyframes labPulse{0%,100%{transform:translate(0,0)}50%{transform:translate(-2%,1%)}}
.scan-lines{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(14,165,233,.008) 2px,rgba(14,165,233,.008) 4px);opacity:.6}

.game-wrap{position:relative;z-index:1;max-width:800px;margin:0 auto;padding:40px 24px 80px}

/* Header */
.game-badge{display:inline-flex;align-items:center;gap:8px;background:rgba(14,165,233,.1);border:1px solid rgba(14,165,233,.3);border-radius:100px;padding:6px 16px;margin-bottom:20px;font-family:var(--font-mono);font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--cyber);font-weight:600}
.game-badge .dot{width:6px;height:6px;border-radius:50%;background:var(--cyber);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}
.game-title{font-family:var(--font-display);font-size:clamp(28px,5vw,48px);font-weight:900;margin-bottom:8px}
.game-title .accent{color:var(--cyber-glow)}
.game-sub{font-size:16px;color:var(--slate);margin-bottom:40px;max-width:600px}

/* Fortress visual */
.fortress{position:relative;padding:40px 24px;border-radius:24px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);margin-bottom:32px;overflow:hidden;transition:all .6s}
.fortress.strength-0{border-color:rgba(239,68,68,.3);box-shadow:0 0 40px rgba(239,68,68,.05)}
.fortress.strength-1{border-color:rgba(245,158,11,.3);box-shadow:0 0 40px rgba(245,158,11,.05)}
.fortress.strength-2{border-color:rgba(14,165,233,.3);box-shadow:0 0 40px rgba(14,165,233,.05)}
.fortress.strength-3{border-color:rgba(16,185,129,.3);box-shadow:0 0 40px rgba(16,185,129,.08)}
.fortress.strength-4{border-color:rgba(212,168,71,.4);box-shadow:0 0 60px rgba(212,168,71,.1)}

/* Walls visualization */
.walls{display:flex;justify-content:center;gap:6px;margin-bottom:24px;height:80px;align-items:flex-end}
.wall-block{width:40px;border-radius:6px 6px 0 0;transition:all .5s cubic-bezier(.4,0,.2,1);opacity:.2}
.wall-block.active{opacity:1}
.wall-block:nth-child(1){background:var(--threat)}
.wall-block:nth-child(2){background:var(--alert)}
.wall-block:nth-child(3){background:var(--cyber)}
.wall-block:nth-child(4){background:var(--shield)}
.wall-block:nth-child(5){background:var(--gold)}

/* Password input */
.pw-input-wrap{position:relative;margin-bottom:20px}
.pw-input{width:100%;padding:16px 52px 16px 20px;border-radius:16px;border:2px solid rgba(255,255,255,.1);background:rgba(0,0,0,.4);color:var(--cream);font-family:var(--font-mono);font-size:20px;letter-spacing:3px;outline:none;transition:border-color .3s}
.pw-input:focus{border-color:var(--cyber)}
.pw-input::placeholder{color:rgba(148,163,184,.4);letter-spacing:1px;font-size:16px}
.pw-toggle{position:absolute;right:16px;top:50%;transform:translateY(-50%);background:none;border:none;color:var(--slate);font-size:20px;cursor:pointer;padding:4px}
.pw-toggle:hover{color:var(--cream)}

/* Strength meter */
.strength-bar{height:6px;border-radius:3px;background:rgba(255,255,255,.06);margin-bottom:16px;overflow:hidden}
.strength-fill{height:100%;border-radius:3px;transition:all .5s;width:0}
.strength-fill.s0{width:5%;background:var(--threat)}
.strength-fill.s1{width:25%;background:var(--threat)}
.strength-fill.s2{width:50%;background:var(--alert)}
.strength-fill.s3{width:75%;background:var(--cyber)}
.strength-fill.s4{width:100%;background:var(--shield)}

.strength-label{font-family:var(--font-mono);font-size:13px;letter-spacing:1px;font-weight:600;margin-bottom:24px;transition:color .3s}
.strength-label.s0{color:var(--slate)}
.strength-label.s1{color:var(--threat-glow)}
.strength-label.s2{color:var(--alert-glow)}
.strength-label.s3{color:var(--cyber-glow)}
.strength-label.s4{color:var(--shield-glow)}

/* Crack time */
.crack-panel{padding:24px;border-radius:16px;background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.06);margin-bottom:24px}
.crack-label{font-family:var(--font-mono);font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--slate);margin-bottom:8px}
.crack-time{font-family:var(--font-display);font-size:clamp(24px,4vw,36px);font-weight:900;margin-bottom:4px;transition:color .3s}
.crack-method{font-size:13px;color:var(--slate);font-family:var(--font-mono)}

/* Checklist */
.checks{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:32px}
@media(max-width:600px){.checks{grid-template-columns:1fr}}
.check-item{display:flex;align-items:center;gap:10px;padding:10px 14px;border-radius:12px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.04);transition:all .4s;font-size:14px;color:var(--slate)}
.check-item.pass{border-color:rgba(16,185,129,.25);background:rgba(16,185,129,.06);color:var(--shield-glow)}
.check-icon{width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;flex-shrink:0;border:2px solid rgba(255,255,255,.1);transition:all .3s}
.check-item.pass .check-icon{background:rgba(16,185,129,.2);border-color:var(--shield-glow);color:var(--shield-glow)}

/* Attack simulation */
.attack-btn{display:inline-flex;align-items:center;gap:8px;padding:14px 28px;border-radius:100px;font-family:var(--font-body);font-size:15px;font-weight:700;border:none;cursor:pointer;transition:all .3s;letter-spacing:1px;background:linear-gradient(135deg,var(--threat),#b91c1c);color:white;margin-bottom:24px}
.attack-btn:hover{box-shadow:0 8px 32px rgba(239,68,68,.3);transform:translateY(-2px)}
.attack-btn:disabled{opacity:.4;cursor:not-allowed;transform:none;box-shadow:none}

.attack-log{padding:20px;border-radius:16px;background:rgba(0,0,0,.5);border:1px solid rgba(239,68,68,.15);font-family:var(--font-mono);font-size:12px;line-height:1.8;color:var(--slate);max-height:200px;overflow-y:auto;display:none;margin-bottom:32px}
.attack-log.active{display:block}
.log-line{opacity:0;animation:logIn .3s ease-out forwards}
@keyframes logIn{to{opacity:1}}
.log-fail{color:var(--threat-glow)}
.log-try{color:var(--alert-glow)}
.log-success{color:var(--shield-glow);font-weight:700}

/* Scoreboard */
.score-panel{padding:28px 24px;border-radius:20px;background:rgba(212,168,71,.06);border:1px solid rgba(212,168,71,.2);text-align:center;display:none;margin-bottom:32px}
.score-panel.active{display:block}
.score-grade{font-family:var(--font-display);font-size:48px;font-weight:900;margin-bottom:4px}
.score-grade.grade-f{color:var(--threat-glow)}
.score-grade.grade-d{color:var(--alert-glow)}
.score-grade.grade-c{color:var(--cyber-glow)}
.score-grade.grade-b{color:var(--shield-glow)}
.score-grade.grade-a{color:var(--gold)}
.score-msg{font-size:15px;color:var(--slate);margin-bottom:16px}
.score-detail{font-family:var(--font-mono);font-size:12px;color:var(--slate);line-height:1.8}

/* Tips panel */
.tips{padding:28px 24px;border-radius:20px;background:rgba(14,165,233,.04);border:1px solid rgba(14,165,233,.15);margin-bottom:32px}
.tips-title{font-family:var(--font-mono);font-size:12px;letter-spacing:2px;text-transform:uppercase;color:var(--cyber-glow);font-weight:600;margin-bottom:12px}
.tips-list{list-style:none;padding:0}
.tips-list li{font-size:14px;color:var(--slate);padding:6px 0;padding-left:20px;position:relative;line-height:1.6}
.tips-list li::before{content:'‚Ä∫';position:absolute;left:0;color:var(--cyber-glow);font-weight:700}

/* Reset button */
.reset-btn{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border-radius:100px;font-family:var(--font-body);font-size:14px;font-weight:600;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.06);color:var(--cream);cursor:pointer;transition:all .3s}
.reset-btn:hover{background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.3)}

/* Footer link */
.back-link{display:inline-flex;align-items:center;gap:8px;margin-top:40px;font-family:var(--font-mono);font-size:13px;letter-spacing:1px;color:var(--cyber);text-decoration:none;transition:color .3s}
.back-link:hover{color:var(--cyber-glow)}
</style>
</head>
<body>
<div class="lab-bg"></div>
<div class="scan-lines"></div>

<div class="game-wrap">
  <div class="game-badge"><span class="dot"></span> Digitification ‚Äî Band 1 ‚Äî DF-105</div>
  <h1 class="game-title">Password <span class="accent">Fortress</span></h1>
  <p class="game-sub">Build the strongest password you can. Watch a simulated attacker try to crack it. Learn what makes a password a wall ‚Äî and what makes it a window.</p>

  <!-- FORTRESS -->
  <div class="fortress strength-0" id="fortress">
    <div class="walls" id="walls">
      <div class="wall-block" id="w1" style="height:16px"></div>
      <div class="wall-block" id="w2" style="height:16px"></div>
      <div class="wall-block" id="w3" style="height:16px"></div>
      <div class="wall-block" id="w4" style="height:16px"></div>
      <div class="wall-block" id="w5" style="height:16px"></div>
    </div>

    <div class="pw-input-wrap">
      <input type="password" class="pw-input" id="pwInput" placeholder="Type your password..." autocomplete="off" spellcheck="false">
      <button class="pw-toggle" id="pwToggle" title="Show/hide password">üëÅÔ∏è</button>
    </div>

    <div class="strength-bar"><div class="strength-fill s0" id="strengthFill"></div></div>
    <div class="strength-label s0" id="strengthLabel">Waiting for input...</div>

    <div class="crack-panel">
      <div class="crack-label">‚è±Ô∏è Estimated time to crack</div>
      <div class="crack-time" id="crackTime" style="color:var(--slate)">‚Äî</div>
      <div class="crack-method" id="crackMethod">Enter a password to begin</div>
    </div>

    <div class="checks">
      <div class="check-item" id="chkLen"><div class="check-icon">‚úï</div>8+ characters</div>
      <div class="check-item" id="chkUpper"><div class="check-icon">‚úï</div>Uppercase letter</div>
      <div class="check-item" id="chkLower"><div class="check-icon">‚úï</div>Lowercase letter</div>
      <div class="check-item" id="chkNum"><div class="check-icon">‚úï</div>Number</div>
      <div class="check-item" id="chkSpecial"><div class="check-icon">‚úï</div>Special character</div>
      <div class="check-item" id="chkLong"><div class="check-icon">‚úï</div>12+ characters (bonus)</div>
    </div>

    <button class="attack-btn" id="attackBtn" disabled>‚öîÔ∏è Launch Attack Simulation</button>
  </div>

  <!-- ATTACK LOG -->
  <div class="attack-log" id="attackLog"></div>

  <!-- SCORE -->
  <div class="score-panel" id="scorePanel">
    <div class="score-grade" id="scoreGrade"></div>
    <div class="score-msg" id="scoreMsg"></div>
    <div class="score-detail" id="scoreDetail"></div>
  </div>

  <!-- TIPS -->
  <div class="tips">
    <div class="tips-title">üõ°Ô∏è Password Defense Intel</div>
    <ul class="tips-list">
      <li>Length beats complexity. A 16-character passphrase is stronger than an 8-character jumble.</li>
      <li>Never reuse passwords. One breach = every account compromised.</li>
      <li>Use a password manager. Your brain is not a secure vault.</li>
      <li>Common substitutions (@ for a, 3 for e) do not fool modern crackers.</li>
      <li>The best password is one you do not have to remember ‚Äî let the manager handle it.</li>
      <li>Two-factor authentication (2FA) is your second wall. Always enable it.</li>
    </ul>
  </div>

  <button class="reset-btn" id="resetBtn">üîÑ Reset & Try Again</button>

  <a href="/digitification" class="back-link">‚Üê Back to Digitification Hub</a>
</div>

<script>
const pwInput = document.getElementById('pwInput');
const pwToggle = document.getElementById('pwToggle');
const strengthFill = document.getElementById('strengthFill');
const strengthLabel = document.getElementById('strengthLabel');
const crackTime = document.getElementById('crackTime');
const crackMethod = document.getElementById('crackMethod');
const fortress = document.getElementById('fortress');
const attackBtn = document.getElementById('attackBtn');
const attackLog = document.getElementById('attackLog');
const scorePanel = document.getElementById('scorePanel');
const scoreGrade = document.getElementById('scoreGrade');
const scoreMsg = document.getElementById('scoreMsg');
const scoreDetail = document.getElementById('scoreDetail');
const resetBtn = document.getElementById('resetBtn');

const checks = {
  chkLen: pw => pw.length >= 8,
  chkUpper: pw => /[A-Z]/.test(pw),
  chkLower: pw => /[a-z]/.test(pw),
  chkNum: pw => /[0-9]/.test(pw),
  chkSpecial: pw => /[^A-Za-z0-9]/.test(pw),
  chkLong: pw => pw.length >= 12,
};

const commonPasswords = [
  'password','123456','12345678','qwerty','abc123','monkey','1234567',
  'letmein','trustno1','dragon','baseball','iloveyou','master','sunshine',
  'ashley','michael','shadow','123123','654321','superman','hello',
  'charlie','donald','password1','admin','welcome'
];

const walls = ['w1','w2','w3','w4','w5'];

function calcStrength(pw) {
  if (!pw) return 0;
  let score = 0;
  if (pw.length >= 8) score++;
  if (/[A-Z]/.test(pw) && /[a-z]/.test(pw)) score++;
  if (/[0-9]/.test(pw)) score++;
  if (/[^A-Za-z0-9]/.test(pw)) score++;
  if (pw.length >= 12) score++;
  if (commonPasswords.includes(pw.toLowerCase())) score = 1;
  if (pw.length < 4) score = Math.min(score, 1);
  return Math.min(score, 4); // 0-4 scaled but capped
}

function calcPoolSize(pw) {
  let pool = 0;
  if (/[a-z]/.test(pw)) pool += 26;
  if (/[A-Z]/.test(pw)) pool += 26;
  if (/[0-9]/.test(pw)) pool += 10;
  if (/[^A-Za-z0-9]/.test(pw)) pool += 33;
  return pool || 26;
}

function calcCrackTime(pw) {
  if (!pw) return { text: '‚Äî', method: 'Enter a password to begin', seconds: 0 };
  if (commonPasswords.includes(pw.toLowerCase())) {
    return { text: '< 1 second', method: 'Found in common password dictionary', seconds: 0.001 };
  }
  const pool = calcPoolSize(pw);
  const combinations = Math.pow(pool, pw.length);
  const guessesPerSec = 10e9; // 10 billion (modern GPU)
  const seconds = combinations / guessesPerSec / 2; // average case

  let text;
  if (seconds < 0.001) text = '< 1 millisecond';
  else if (seconds < 1) text = '< 1 second';
  else if (seconds < 60) text = Math.round(seconds) + ' seconds';
  else if (seconds < 3600) text = Math.round(seconds/60) + ' minutes';
  else if (seconds < 86400) text = Math.round(seconds/3600) + ' hours';
  else if (seconds < 86400*30) text = Math.round(seconds/86400) + ' days';
  else if (seconds < 86400*365) text = Math.round(seconds/86400/30) + ' months';
  else if (seconds < 86400*365*1000) text = Math.round(seconds/86400/365) + ' years';
  else if (seconds < 86400*365*1e6) text = Math.round(seconds/86400/365/1000).toLocaleString() + ' thousand years';
  else if (seconds < 86400*365*1e9) text = Math.round(seconds/86400/365/1e6).toLocaleString() + ' million years';
  else if (seconds < 86400*365*1e12) text = Math.round(seconds/86400/365/1e9).toLocaleString() + ' billion years';
  else text = '> age of the universe';

  return { text, method: `At 10 billion guesses/sec (modern GPU) ¬∑ ${pool} character pool ¬∑ ${pw.length} chars`, seconds };
}

function updateUI() {
  const pw = pwInput.value;
  const strength = calcStrength(pw);
  const crack = calcCrackTime(pw);

  // Checks
  Object.entries(checks).forEach(([id, fn]) => {
    const el = document.getElementById(id);
    const pass = fn(pw);
    el.classList.toggle('pass', pass);
    el.querySelector('.check-icon').textContent = pass ? '‚úì' : '‚úï';
  });

  // Strength bar & label
  strengthFill.className = 'strength-fill s' + (pw ? strength : 0);
  const labels = ['No password entered','Weak ‚Äî instantly crackable','Fair ‚Äî minutes to hours','Strong ‚Äî years to crack','Fortress ‚Äî centuries+'];
  strengthLabel.textContent = pw ? labels[strength] : labels[0];
  strengthLabel.className = 'strength-label s' + (pw ? strength : 0);

  // Fortress class
  fortress.className = 'fortress strength-' + (pw ? strength : 0);

  // Walls
  walls.forEach((id, i) => {
    const el = document.getElementById(id);
    const active = i < strength;
    el.classList.toggle('active', active);
    el.style.height = active ? (16 + (i+1) * 14) + 'px' : '16px';
  });

  // Crack time
  crackTime.textContent = crack.text;
  crackMethod.textContent = crack.method;
  const colors = ['var(--slate)','var(--threat-glow)','var(--alert-glow)','var(--cyber-glow)','var(--shield-glow)'];
  crackTime.style.color = pw ? colors[strength] : colors[0];

  // Attack button
  attackBtn.disabled = !pw;
}

// Toggle visibility
pwToggle.addEventListener('click', () => {
  const isPass = pwInput.type === 'password';
  pwInput.type = isPass ? 'text' : 'password';
  pwToggle.textContent = isPass ? 'üôà' : 'üëÅÔ∏è';
});

pwInput.addEventListener('input', () => {
  updateUI();
  // Hide previous results
  attackLog.classList.remove('active');
  scorePanel.classList.remove('active');
});

// Attack simulation
attackBtn.addEventListener('click', () => {
  const pw = pwInput.value;
  if (!pw) return;
  attackBtn.disabled = true;
  attackLog.innerHTML = '';
  attackLog.classList.add('active');
  scorePanel.classList.remove('active');

  const strength = calcStrength(pw);
  const crack = calcCrackTime(pw);
  const isCommon = commonPasswords.includes(pw.toLowerCase());

  const phases = [];

  // Phase 1: Dictionary
  phases.push({ text: '> Initializing dictionary attack...', cls: 'log-try', delay: 200 });
  phases.push({ text: `> Loading 10,000 common passwords...`, cls: 'log-try', delay: 600 });
  if (isCommon) {
    phases.push({ text: `> MATCH FOUND: "${pw}" is in common password list`, cls: 'log-fail', delay: 1000 });
    phases.push({ text: '> ‚ö†Ô∏è PASSWORD CRACKED IN < 1 SECOND', cls: 'log-fail', delay: 1400 });
  } else {
    phases.push({ text: '> No dictionary match found. Proceeding...', cls: 'log-success', delay: 1000 });

    // Phase 2: Pattern analysis
    phases.push({ text: '> Running pattern analysis...', cls: 'log-try', delay: 1600 });
    const hasSequence = /abc|bcd|cde|def|123|234|345|456|567|678|789|qwe|wer|ert|asd|sdf/i.test(pw);
    const hasRepeat = /(.)\1{2,}/.test(pw);
    if (hasSequence) phases.push({ text: '> ‚ö†Ô∏è Sequential pattern detected ‚Äî reduces crack time', cls: 'log-fail', delay: 2000 });
    else if (hasRepeat) phases.push({ text: '> ‚ö†Ô∏è Repeated characters detected ‚Äî reduces crack time', cls: 'log-fail', delay: 2000 });
    else phases.push({ text: '> No predictable patterns found.', cls: 'log-success', delay: 2000 });

    // Phase 3: Brute force
    phases.push({ text: '> Initiating brute force (10 billion guesses/sec)...', cls: 'log-try', delay: 2600 });
    phases.push({ text: `> Character pool: ${calcPoolSize(pw)} ¬∑ Length: ${pw.length}`, cls: 'log-try', delay: 3000 });
    phases.push({ text: `> Estimated combinations: ${Math.pow(calcPoolSize(pw), pw.length).toExponential(2)}`, cls: 'log-try', delay: 3400 });

    if (crack.seconds < 1) {
      phases.push({ text: `> ‚ö†Ô∏è CRACKED: ${crack.text}`, cls: 'log-fail', delay: 3800 });
    } else if (crack.seconds < 86400) {
      phases.push({ text: `> ‚ö†Ô∏è VULNERABLE: Estimated crack time ${crack.text}`, cls: 'log-fail', delay: 3800 });
    } else if (crack.seconds < 86400 * 365 * 100) {
      phases.push({ text: `> üõ°Ô∏è RESISTANT: Estimated crack time ${crack.text}`, cls: 'log-success', delay: 3800 });
    } else {
      phases.push({ text: `> üè∞ FORTRESS HOLDS: ${crack.text}`, cls: 'log-success', delay: 3800 });
    }
  }

  // Phase 4: Result
  phases.push({ text: '> Simulation complete.', cls: 'log-try', delay: phases[phases.length-1].delay + 600 });

  phases.forEach(p => {
    setTimeout(() => {
      const line = document.createElement('div');
      line.className = 'log-line ' + p.cls;
      line.textContent = p.text;
      line.style.animationDelay = '0s';
      attackLog.appendChild(line);
      attackLog.scrollTop = attackLog.scrollHeight;
    }, p.delay);
  });

  // Show score after simulation
  const totalDelay = phases[phases.length-1].delay + 800;
  setTimeout(() => {
    showScore(pw, strength, crack);
    attackBtn.disabled = false;
  }, totalDelay);
});

function showScore(pw, strength, crack) {
  scorePanel.classList.add('active');
  const grades = [
    { letter: 'F', cls: 'grade-f', msg: 'This password is an open door. A modern GPU cracks it before you finish reading this sentence.' },
    { letter: 'D', cls: 'grade-d', msg: 'Weak. Common patterns or short length make this vulnerable to automated attacks.' },
    { letter: 'C', cls: 'grade-c', msg: 'Getting there. Length and variety are improving, but not yet fortress-grade.' },
    { letter: 'B', cls: 'grade-b', msg: 'Strong. This would take serious computing power and time to crack. Add more length to reach fortress level.' },
    { letter: 'A', cls: 'grade-a', msg: 'Fortress. This password is a wall. Combined with 2FA, your account is a vault.' },
  ];
  const g = grades[strength];
  scoreGrade.textContent = g.letter;
  scoreGrade.className = 'score-grade ' + g.cls;
  scoreMsg.textContent = g.msg;

  let details = `Length: ${pw.length} ¬∑ Pool: ${calcPoolSize(pw)} chars ¬∑ `;
  details += `Crack time: ${crack.text}`;
  if (commonPasswords.includes(pw.toLowerCase())) details += ' ¬∑ ‚ö†Ô∏è Common password!';
  scoreDetail.textContent = details;
}

resetBtn.addEventListener('click', () => {
  pwInput.value = '';
  pwInput.type = 'password';
  pwToggle.textContent = 'üëÅÔ∏è';
  attackLog.classList.remove('active');
  attackLog.innerHTML = '';
  scorePanel.classList.remove('active');
  updateUI();
  pwInput.focus();
});

updateUI();
</script>
</body>
</html>
