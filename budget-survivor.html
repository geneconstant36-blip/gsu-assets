<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Survivor | GSU Financification</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: #0a101d; color: #e2e8f0; line-height: 1.6; }
        .nav { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; background: rgba(0, 0, 0, 0.5); border-bottom: 1px solid rgba(34, 197, 94, 0.2); }
        .logo { font-weight: 700; color: #22c55e; letter-spacing: 1px; text-transform: uppercase; }
        .wrap { max-width: 800px; margin: 0 auto; padding: 20px; }
        
        /* Dashboard Stats */
        .dash { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 30px; }
        .stat-box { background: rgba(34, 197, 94, 0.05); border: 1px solid rgba(34, 197, 94, 0.3); border-radius: 8px; padding: 15px; text-align: center; transition: all 0.3s ease; }
        .stat-label { font-size: 12px; text-transform: uppercase; color: #94a3b8; letter-spacing: 1px; }
        .stat-val { font-size: 28px; font-weight: 800; color: #fff; font-variant-numeric: tabular-nums; }
        .money { color: #4ade80; }
        .expense { color: #f87171; }
        .credit { color: #60a5fa; }
        .danger { background: rgba(248, 113, 113, 0.1); border-color: #f87171; }
        
        /* Game Area */
        .scene-card { background: #111827; border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 30px; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .scene-title { font-size: 24px; color: #22c55e; margin-bottom: 15px; border-bottom: 1px solid rgba(34, 197, 94, 0.2); padding-bottom: 10px; }
        .scene-desc { font-size: 18px; margin-bottom: 25px; }
        
        /* Choices */
        .choice-btn { display: block; width: 100%; text-align: left; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.2); color: #fff; padding: 16px 20px; margin-bottom: 12px; border-radius: 8px; font-size: 16px; cursor: pointer; transition: all 0.2s ease; }
        .choice-btn:hover { background: rgba(34, 197, 94, 0.1); border-color: #22c55e; transform: translateX(5px); }
        
        /* GENO Feedback Area */
        .feedback-area { display: none; background: rgba(56, 189, 248, 0.1); border-left: 4px solid #38bdf8; padding: 20px; border-radius: 0 8px 8px 0; margin-top: 20px; }
        .feedback-title { font-weight: 700; color: #38bdf8; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .next-btn { background: #22c55e; color: #000; border: none; padding: 12px 24px; font-size: 16px; font-weight: 700; border-radius: 6px; cursor: pointer; margin-top: 20px; text-transform: uppercase; }
        .next-btn:hover { background: #16a34a; }
        
        @media (max-width: 600px) { .dash { grid-template-columns: 1fr; gap: 10px; } }
    </style>
</head>
<body>

<div class="nav">
    <div class="logo">GSU Financification</div>
    <div style="font-size: 14px; color: #94a3b8;">Level 2: Immersive Scenario</div>
</div>

<div class="wrap">
    <div class="dash">
        <div class="stat-box" id="box-cash">
            <div class="stat-label">Available Cash</div>
            <div class="stat-val money" id="v-cash">$1,000</div>
        </div>
        <div class="stat-box">
            <div class="stat-label">Monthly Expenses</div>
            <div class="stat-val expense" id="v-exp">$0</div>
        </div>
        <div class="stat-box">
            <div class="stat-label">Credit Score</div>
            <div class="stat-val credit" id="v-credit">None</div>
        </div>
    </div>

    <div class="scene-card" id="game-card">
        <h2 class="scene-title" id="s-title">Welcome to the Real World</h2>
        <div class="scene-desc" id="s-desc">
            You are 18 years old. You just landed your first full-time job making $2,500 a month after taxes. You have $1,000 in your bank account. It is time to move out and make your own financial decisions. Survive the year without going broke, and build your independence.
        </div>
        
        <div id="choices-area">
            <button class="choice-btn" onclick="startGame()">Start My Journey</button>
        </div>

        <div class="feedback-area" id="feedback-area">
            <div class="feedback-title">ðŸ¤– GENO Says:</div>
            <div id="f-text"></div>
            <button class="next-btn" onclick="nextMonth()">Next Month âž”</button>
        </div>
    </div>
</div>

<script>
    // Game State
    let state = {
        cash: 1000,
        income: 2500,
        expenses: 0,
        credit: 0, // 0 = None. Will change to a number later.
        month: 0
    };

    // The Scenarios
    const storyline = [
        {
            title: "Month 1: The Housing Trap",
            desc: "You need a place to live. Your monthly take-home pay is $2,500. Which living situation do you choose?",
            choices: [
                {
                    text: "Luxury 1-Bedroom Apartment ($1,500/month)",
                    cashEffect: -1500, expEffect: 1500, creditEffect: 0,
                    feedback: "Ouch. A rule of thumb is to spend no more than 30% of your income on rent. You just spent 60%. You are now 'house poor.' Every emergency will push you toward debt."
                },
                {
                    text: "Basic Studio Apartment ($1,000/month)",
                    cashEffect: -1000, expEffect: 1000, creditEffect: 0,
                    feedback: "Not terrible, but 40% of your income on rent leaves you tight on cash. You will need to be careful with your food and entertainment budgets."
                },
                {
                    text: "Share a 2-Bedroom with a Roommate ($600/month)",
                    cashEffect: -600, expEffect: 600, creditEffect: 0,
                    feedback: "Excellent move! It isn't as glamorous, but spending only 24% of your income on housing gives you a massive cash buffer to build wealth and handle emergencies."
                }
            ]
        },
        {
            title: "Month 2: Wheels",
            desc: "You need to get to work. It's a 5-mile commute. How are you getting there?",
            choices: [
                {
                    text: "Finance a used sports car (Adds $400/month car payment)",
                    cashEffect: 0, expEffect: 400, creditEffect: 650,
                    feedback: "A massive mistake. Car loans trap millions of young people. You are paying high interest on an asset that goes down in value every day."
                },
                {
                    text: "Buy a reliable, ugly 'beater' car for $1,500 cash",
                    cashEffect: -1500, expEffect: 100, creditEffect: 0, // 100 for insurance/gas
                    feedback: "A sovereign choice! You took a hit to your cash savings, but you own it free and clear. No monthly car payment means financial freedom."
                },
                {
                    text: "Buy a bicycle and use public transit ($50/month)",
                    cashEffect: -150, expEffect: 50, creditEffect: 0,
                    feedback: "Incredibly frugal. You kept your cash and your monthly expenses virtually zero. This is how you build a safety net quickly."
                }
            ]
        },
        {
            title: "Month 3: The Plastic Temptation",
            desc: "You get a pre-approved credit card offer in the mail. It has a $5,000 limit and 24% interest. What do you do?",
            choices: [
                {
                    text: "Max it out on a vacation to Mexico! (I deserve it)",
                    cashEffect: 0, expEffect: 150, creditEffect: 550,
                    feedback: "Disaster. You just enslaved your future self to a bank. At 24% interest, paying only the minimum, you will be paying for this trip for the next 10 years."
                },
                {
                    text: "Use it for gas, and pay the balance in full every single month.",
                    cashEffect: 0, expEffect: 0, creditEffect: 720,
                    feedback: "Brilliant. You are using the bank's money for free, and showing them you are responsible. This builds an excellent credit score without paying a penny in interest."
                },
                {
                    text: "Shred it. I only use cash.",
                    cashEffect: 0, expEffect: 0, creditEffect: 0,
                    feedback: "A safe and disciplined choice. You will never fall into the debt trap. However, it will take longer to build a credit score for buying a house later."
                }
            ]
        },
        {
            title: "Month 4: The Emergency",
            desc: "You wake up with a terrible toothache. You need an emergency root canal, and you don't have dental insurance. The dentist wants $800 today.",
            choices: [
                {
                    text: "Pay with Cash (Use your savings)",
                    cashEffect: -800, expEffect: 0, creditEffect: 0,
                    feedback: "This hurts, but this is exactly why sovereign individuals keep an emergency fund! You solved the problem without owing anyone money."
                },
                {
                    text: "Put it on a credit card and pay the minimums.",
                    cashEffect: 0, expEffect: 50, creditEffect: -20,
                    feedback: "You solved the immediate pain, but created a financial one. That $800 procedure will end up costing you $1,200 after interest."
                },
                {
                    text: "Take out a Payday Loan.",
                    cashEffect: 0, expEffect: 200, creditEffect: -50,
                    feedback: "The absolute worst option. Payday loans charge up to 400% interest. You have stepped onto a hamster wheel of poverty that is very hard to escape."
                }
            ]
        },
        {
            title: "Month 5: The Windfall",
            desc: "You received your tax refund! The government sent you a check for $1,200. Where is this money going?",
            choices: [
                {
                    text: "Buy the newest smartphone and a smart watch.",
                    cashEffect: -1200, expEffect: 0, creditEffect: 0, // Spends the 1200 they just got
                    feedback: "You traded a wealth-building opportunity for a piece of glass that will be obsolete in two years. This is the consumer mindset."
                },
                {
                    text: "Put $1000 in a High-Yield Savings Account and spend $200 on fun.",
                    cashEffect: 1000, expEffect: 0, creditEffect: 0,
                    feedback: "A perfectly balanced choice. You rewarded yourself, but secured the bulk of the money in an account that pays YOU interest."
                },
                {
                    text: "Open a Roth IRA and invest it in an S&P 500 Index Fund.",
                    cashEffect: 1200, expEffect: 0, creditEffect: 10,
                    feedback: "The ultimate wealth-builder! Because you are 18, the magic of compound interest means that $1,200 could grow to over $30,000 by the time you retire, completely tax-free."
                }
            ]
        }
    ];

    // Engine Functions
    function updateDash() {
        document.getElementById('v-cash').textContent = '$' + state.cash.toLocaleString();
        document.getElementById('v-exp').textContent = '$' + state.expenses.toLocaleString();
        document.getElementById('v-credit').textContent = state.credit === 0 ? "None" : state.credit;
        
        let cashBox = document.getElementById('box-cash');
        if (state.cash < 0) {
            cashBox.classList.add('danger');
        } else {
            cashBox.classList.remove('danger');
        }
    }

    function speak(text) {
        if ('speechSynthesis' in window) {
            window.speechSynthesis.cancel();
            let msg = new SpeechSynthesisUtterance(text);
            msg.rate = 1.0;
            window.speechSynthesis.speak(msg);
        }
    }

    function startGame() {
        state.month = 0;
        state.cash = 1000;
        state.expenses = 0;
        state.credit = 0;
        updateDash();
        loadScene();
    }

    function loadScene() {
        if (state.cash < 0) {
            gameOver("You ran out of money and got evicted. You are now dependent on others. This is why budgeting and avoiding debt is the ultimate form of self-reliance.");
            return;
        }

        if (state.month >= storyline.length) {
            gameWin();
            return;
        }

        let scene = storyline[state.month];
        document.getElementById('s-title').textContent = scene.title;
        document.getElementById('s-desc').textContent = scene.desc;
        
        // Income Phase
        if (state.month > 0) {
            state.cash += state.income; // Get paid
            state.cash -= state.expenses; // Pay bills
            updateDash();
        }

        let choicesHTML = "";
        scene.choices.forEach((choice, idx) => {
            choicesHTML += `<button class="choice-btn" onclick="makeChoice(${idx})">${choice.text}</button>`;
        });
        
        document.getElementById('choices-area').innerHTML = choicesHTML;
        document.getElementById('choices-area').style.display = "block";
        document.getElementById('feedback-area').style.display = "none";
    }

    function makeChoice(idx) {
        let choice = storyline[state.month].choices[idx];
        
        // Apply effects
        state.cash += choice.cashEffect;
        state.expenses += choice.expEffect;
        
        if (state.credit === 0 && choice.creditEffect > 0) state.credit = 600; // Baseline
        state.credit += choice.creditEffect;
        if (state.credit > 850) state.credit = 850;
        
        updateDash();

        // Show Feedback
        document.getElementById('choices-area').style.display = "none";
        document.getElementById('f-text').innerHTML = `<strong>${choice.feedback}</strong><br><br><em>(Monthly pay applied. Bills deducted. Check your new balances above.)</em>`;
        document.getElementById('feedback-area').style.display = "block";
        
        speak(choice.feedback);
    }

    function nextMonth() {
        state.month++;
        loadScene();
    }

    function gameOver(reason) {
        document.getElementById('s-title').textContent = "ðŸ’¥ EVICITON: GAME OVER";
        document.getElementById('s-title').style.color = "#f87171";
        document.getElementById('s-desc').textContent = reason;
        document.getElementById('choices-area').innerHTML = `<button class="choice-btn" style="text-align:center" onclick="startGame()">Try Again</button>`;
        document.getElementById('choices-area').style.display = "block";
        document.getElementById('feedback-area').style.display = "none";
        speak("Game over. You have run out of cash. Try again and make better choices.");
    }

    function gameWin() {
        document.getElementById('s-title').textContent = "ðŸ† SURVIVOR: YOU WIN!";
        document.getElementById('s-title').style.color = "#fbbf24";
        
        let finalStatus = "";
        if (state.expenses > 1500) {
            finalStatus = "You survived, but your monthly expenses are way too high. You are living paycheck to paycheck.";
        } else if (state.cash > 2500 && state.credit > 700) {
            finalStatus = "You are a master of sovereignty! You kept expenses low, built an emergency fund, and established excellent credit without paying interest.";
        } else {
            finalStatus = "You made it through your first year of independence! You have some money in the bank and a roof over your head.";
        }

        document.getElementById('s-desc').textContent = finalStatus;
        document.getElementById('choices-area').innerHTML = `<button class="choice-btn" style="text-align:center" onclick="startGame()">Play Again</button>`;
        document.getElementById('choices-area').style.display = "block";
        document.getElementById('feedback-area').style.display = "none";
        speak("Congratulations. " + finalStatus);
    }
</script>

</body>
</html>